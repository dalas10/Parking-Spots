# Internationalization (i18n) Documentation

## Overview
The ParkingSpots web application supports multiple languages (English and Greek) with a modular, JSON-based translation system.

## Supported Languages
- **English (en)** - Default language
- **Greek (el)** - Î•Î»Î»Î·Î½Î¹ÎºÎ¬

## Architecture

### Files
1. **translations.json** - Contains all translations in JSON format organized by language
2. **i18n.js** - Core internationalization module that handles:
   - Loading translations
   - Language switching
   - DOM updates
   - Language persistence (localStorage)

### How It Works

#### 1. Translation Storage
Translations are stored in `translations.json` with nested structure:
```json
{
  "en": {
    "nav": {
      "home": "Home",
      "bookings": "My Bookings"
    }
  },
  "el": {
    "nav": {
      "home": "Î‘ÏÏ‡Î¹ÎºÎ®",
      "bookings": "ÎŸÎ¹ ÎšÏÎ±Ï„Î®ÏƒÎµÎ¹Ï‚ Î¼Î¿Ï…"
    }
  }
}
```

#### 2. Static Text Translation
HTML elements use the `data-i18n` attribute:
```html
<h1 data-i18n="hero.title">Find Your Perfect Parking Spot</h1>
<button data-i18n="hero.search_button">Search</button>
```

The i18n module automatically updates these elements when:
- Page loads
- User changes language

#### 3. Dynamic Text Translation
JavaScript code uses the `t()` function:
```javascript
const text = t('spot.per_hour'); // Returns "/hr" or "/ÏÏÎ±"
const title = t('auth.welcome_back'); // Returns "Welcome Back" or "ÎšÎ±Î»ÏÏ‚ Î‰ÏÎ¸Î±Ï„Îµ ÎÎ±Î½Î¬"
```

#### 4. Language Selector
A dropdown is automatically added to the navigation bar:
```html
<select id="langSelector" class="lang-selector">
    <option value="en">ğŸ‡¬ğŸ‡§ English</option>
    <option value="el">ğŸ‡¬ğŸ‡· Î•Î»Î»Î·Î½Î¹ÎºÎ¬</option>
</select>
```

## Usage

### For Developers

#### Adding New Translations
1. Open `translations.json`
2. Add your key-value pairs to both `en` and `el` sections
3. Use dot notation for organization: `"section.subsection.key"`

Example:
```json
{
  "en": {
    "new_section": {
      "my_text": "Hello World"
    }
  },
  "el": {
    "new_section": {
      "my_text": "Î“ÎµÎ¹Î± ÏƒÎ¿Ï… ÎšÏŒÏƒÎ¼Îµ"
    }
  }
}
```

#### Using Translations in HTML
Add `data-i18n` attribute with the translation key:
```html
<p data-i18n="new_section.my_text">Hello World</p>
```

#### Using Translations in JavaScript
Use the global `t()` function:
```javascript
const message = t('new_section.my_text');
alert(message); // Shows "Hello World" or "Î“ÎµÎ¹Î± ÏƒÎ¿Ï… ÎšÏŒÏƒÎ¼Îµ"
```

For dynamic content that needs to update when language changes:
```javascript
// Listen for language change event
document.addEventListener('languageChanged', (e) => {
    // Reload your dynamic content with new translations
    updateMyContent();
});
```

#### Checking Current Language
```javascript
const currentLang = getCurrentLanguage(); // Returns 'en' or 'el'
```

#### Programmatically Changing Language
```javascript
setLanguage('el'); // Switch to Greek
setLanguage('en'); // Switch to English
```

### For Translators

#### Translation Guidelines
1. **Maintain consistency**: Use the same terms throughout the application
2. **Consider context**: Some words have different meanings in different contexts
3. **Keep formatting**: Preserve placeholders, HTML tags, and special characters
4. **Test length**: Greek text is often longer than English - ensure UI doesn't break
5. **Cultural adaptation**: Adapt content to Greek culture where appropriate

#### Greek Translation Notes
- Use formal plural form ("Î£Î±Ï‚") for user-facing messages
- Currency symbols: Keep "$" for international context
- Dates/Times: Backend handles formatting (no translation needed)
- Technical terms: Use English for tech terms (e.g., "Email", "GPS")

## Translation Coverage

### Fully Translated Pages
âœ… Home Page (index.html)
âœ… Login Page (login.html) 
âœ… Register Page (register.html)
âœ… Navigation Bar
âœ… Footer

### Partially Translated
âš ï¸ Spot Details (spot.html) - Static text only
âš ï¸ Bookings (bookings.html) - Static text only
âš ï¸ Profile (profile.html) - Static text only

### Translation Keys Available
- **nav**: Navigation menu items
- **hero**: Homepage hero section
- **stats**: Statistics display
- **views**: Map/List view toggle
- **filters**: Search filters
- **spot**: Parking spot information
- **booking**: Booking form and details
- **auth**: Authentication (login/register)
- **bookings**: Bookings page content
- **profile**: Profile page content
- **messages**: User feedback messages
- **footer**: Footer content

## Technical Details

### Language Persistence
User's language choice is saved in `localStorage` with key: `language`

### Event System
The module dispatches a custom `languageChanged` event when language switches:
```javascript
document.addEventListener('languageChanged', (event) => {
    console.log('New language:', event.detail.language);
});
```

### Fallback Behavior
If a translation key is missing:
1. Returns the key itself as text
2. Logs a warning to console
3. Doesn't break the application

### Initialization
The i18n system auto-initializes on DOM load. No manual setup required.

## Browser Compatibility
- Modern browsers with ES6 support
- localStorage support required
- Tested on Chrome, Firefox, Safari, Edge

## Future Improvements
1. Add more languages (Spanish, French, German, etc.)
2. Translate remaining pages (spot details, bookings, profile)
3. Add language-specific date/time formatting
4. Implement RTL support for Arabic/Hebrew
5. Add language detection based on browser settings
6. Implement lazy loading for translation files
7. Add translation management interface for admins

## Resources
- Greek Unicode: Properly encoded in UTF-8
- OpenStreetMap: Already multilingual (no translation needed)
- Icons/Emojis: Universal (no translation needed)

## Testing
To test language switching:
1. Open http://localhost:3000
2. Select language from dropdown in navigation bar
3. Observe all text updating immediately
4. Reload page - language preference should persist
5. Navigate to other pages - language should remain consistent

## Troubleshooting

### Translations not updating
- Check browser console for errors
- Verify `translations.json` is valid JSON
- Ensure `i18n.js` loads before other scripts
- Clear browser cache and reload

### Missing translations showing keys
- Check translation key exists in `translations.json`
- Verify correct casing and dot notation
- Look for typos in `data-i18n` attributes

### Language selector not showing
- Ensure navigation bar has class `nav-links`
- Check for JavaScript errors in console
- Verify `i18n.js` is loaded

## Support
For issues or questions about internationalization:
- Check console logs for warnings
- Verify JSON syntax in translations.json
- Review this documentation
- Test in browser console: `window.t('your.key')`
